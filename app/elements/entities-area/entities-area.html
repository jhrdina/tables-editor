
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymer-ts/polymer-ts.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../entity-box/entity-box.html">


<dom-module id="entities-area">
  <template>
    <style>
    :host {
      display: block;
      background-color: #ECECEC;
    }

    entity-box {
      position: absolute !important;
      float: left;
      z-index: 5;
    }

    entity-box.selectable {
      cursor: pointer;
    }

    paper-fab {
      position: fixed;
      right: 30px;
      bottom: 30px;
      z-index: 50;
    }

    </style>

    <paper-fab
      icon="add"
      elevation="2"
      title="PÅ™idat novou tabulku"
      on-tap="addEntity"
      disabled="{{connectionModeActive}}">
    </paper-fab>

    <template id="entitiesRepeat" is="dom-repeat" items="{{model.entities}}" index-as="index">
      <entity-box
        class$="[[entityBoxClasses]]"
        draggable="{{!connectionModeActive}}"
        containment="{{host}}"
        name="{{item.name}}"
        geometry="{{item.geometry}}"
        entity-attrs="{{item.attributes}}"
        connector-hidden="[[computeConnectorHidden(index,sourceEntityIndex)]]"
        disabled="{{connectionModeActive}}"
        on-connector-active-changed="connectorActiveChanged"
        on-tap="handleEntityTap">
      </entity-box>
    </template>

  </template>
</dom-module>

<script type="text/javascript" src="entities-area.js"></script>
