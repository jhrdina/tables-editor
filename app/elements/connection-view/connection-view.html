<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymer-ts/polymer-ts.html">
<link rel="import" href="../connection-label/connection-label.html">
<link rel="import" href="../connection-cardinality/connection-cardinality.html">





<dom-module id="connection-view">
  <template>
    <style>
      #frame {
        position: absolute;
      }

      #container {
        position: relative;
      }
    </style>
    <div id="frame">
      <div id="container">
        <svg id="svg">
          <path d$="{{curveString}}" stroke="gray" stroke-width="2" fill="none" />
          <!--<circle cx$="{{curve.p1.x}}" cy$="{{curve.p1.y}}" r="1" stroke="red" stroke-width="3" fill="red" />
          <circle cx$="{{curve.p2.x}}" cy$="{{curve.p2.y}}" r="1" stroke="blue" stroke-width="3" fill="red" />
          <circle cx$="{{curve.middle.x}}" cy$="{{curve.middle.y}}" r="1" stroke="black" stroke-width="3" fill="red" />
          <circle cx$="{{curve.p3.x}}" cy$="{{curve.p3.y}}" r="1" stroke="orange" stroke-width="3" fill="red" />
          <circle cx$="{{curve.p4.x}}" cy$="{{curve.p4.y}}" r="1" stroke="green" stroke-width="3" fill="red" />
        -->
        </svg>
        <connection-label
            x-target$="{{curve.middle.x}}"
            y-target$="{{curve.middle.y}}"
            name="{{name}}"
            on-delete-clicked="handleDelete">
        </connection-label>
        <connection-cardinality
            cardinality="{{car1}}"
            dir$="{{dir1}}"
            x$={{curve.label1.x}}
            y$="{{curve.label1.y}}">
        </connection-cardinality>
        <connection-cardinality
            cardinality="{{car2}}"
            dir$="{{dir2}}"
            x$={{curve.label2.x}}
            y$="{{curve.label2.y}}" />
        </connection-cardinality>
      </div>
    </div>
  </template>
</dom-module>

<script type="text/javascript" src="connection-view.js"></script>
